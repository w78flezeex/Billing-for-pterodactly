(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{7152:function(e,s,a){Promise.resolve().then(a.bind(a,7879))},7879:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return M}});var l=a(7437),t=a(2265),r=a(9376),i=a(7648),n=a(9075),c=a(2869),d=a(5186),m=a(6815),o=a(6070),x=a(271),h=a(4508);let u=x.fC,j=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)(x.aV,{ref:s,className:(0,h.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});j.displayName=x.aV.displayName;let p=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)(x.xz,{ref:s,className:(0,h.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});p.displayName=x.xz.displayName;let N=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)(x.VY,{ref:s,className:(0,h.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});N.displayName=x.VY.displayName;var f=a(5974),v=a(5156);let g=t.forwardRef((e,s)=>{let{className:a,orientation:t="horizontal",decorative:r=!0,...i}=e;return(0,l.jsx)(v.f,{ref:s,decorative:r,orientation:t,className:(0,h.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...i})});g.displayName=v.f.displayName;var b=a(1671),y=a(1723),w=a(9322),Z=a(9388),S=a(1817),k=a(2660),C=a(6137),z=a(7692),E=a(2369),A=a(8906),_=a(1047),F=a(1804),I=a(4401),D=a(4428),O=a(8226),Y=a(8728),T=a(9345),P=a(3041),R=a(44),L=a(3229),V=a(6337),H=a(7769),J=a(2208),U=a(1059),G=a(8408);function M(){var e;let s=(0,r.useRouter)(),{user:a,isLoading:x,isAuthenticated:h,logout:v,refreshUser:M}=(0,U.a)(),[X,q]=(0,t.useState)([]),[B,K]=(0,t.useState)([]),[Q,W]=(0,t.useState)(!0),[$,ee]=(0,t.useState)(""),[es,ea]=(0,t.useState)(""),[el,et]=(0,t.useState)(""),[er,ei]=(0,t.useState)(!1),[en,ec]=(0,t.useState)(""),[ed,em]=(0,t.useState)(""),[eo,ex]=(0,t.useState)(""),[eh,eu]=(0,t.useState)(""),[ej,ep]=(0,t.useState)(!1),[eN,ef]=(0,t.useState)(!1),[ev,eg]=(0,t.useState)(!1),[eb,ey]=(0,t.useState)(""),[ew,eZ]=(0,t.useState)("");(0,t.useEffect)(()=>{a&&(ee(a.name||""),ea(a.phone||""),et(a.company||""))},[a]),(0,t.useEffect)(()=>{let e=async()=>{if(h)try{let e=await fetch("/api/user/profile");if(e.ok){let s=await e.json();q(s.servers||[]),K(s.orders||[])}}catch(e){console.error("Error fetching profile:",e)}finally{W(!1)}};x||e()},[h,x]),(0,t.useEffect)(()=>{x||h||s.push("/login")},[x,h,s]);let eS=async()=>{await v(),s.push("/")},ek=async e=>{e.preventDefault(),ei(!0),ec("");try{let e=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:$,phone:es,company:el})}),s=await e.json();e.ok?(ec("Профиль успешно обновлен"),await M(),setTimeout(()=>ec(""),3e3)):ec(s.error||"Ошибка при сохранении")}catch(e){ec("Ошибка подключения к серверу")}finally{ei(!1)}},eC=async e=>{if(e.preventDefault(),eg(!0),ey(""),eZ(""),eo!==eh){eZ("Пароли не совпадают"),eg(!1);return}try{let e=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"password",currentPassword:ed,newPassword:eo,confirmPassword:eh})}),s=await e.json();e.ok?(ey("Пароль успешно изменен"),em(""),ex(""),eu(""),setTimeout(()=>ey(""),3e3)):eZ(s.error||"Ошибка при смене пароля")}catch(e){eZ("Ошибка подключения к серверу")}finally{eg(!1)}},ez=e=>{let s={ACTIVE:{variant:"default",label:"Активен",icon:(0,l.jsx)(b.Z,{className:"h-3 w-3"})},PENDING:{variant:"secondary",label:"Ожидание",icon:(0,l.jsx)(y.Z,{className:"h-3 w-3"})},SUSPENDED:{variant:"destructive",label:"Приостановлен",icon:(0,l.jsx)(w.Z,{className:"h-3 w-3"})},EXPIRED:{variant:"destructive",label:"Истек",icon:(0,l.jsx)(Z.Z,{className:"h-3 w-3"})},PAID:{variant:"default",label:"Оплачен",icon:(0,l.jsx)(b.Z,{className:"h-3 w-3"})},CANCELLED:{variant:"destructive",label:"Отменен",icon:(0,l.jsx)(Z.Z,{className:"h-3 w-3"})}}[e]||{variant:"outline",label:e,icon:null};return(0,l.jsxs)(f.C,{variant:s.variant,className:"gap-1",children:[s.icon,s.label]})},eE=e=>new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"short",year:"numeric"});return!x&&(h||x)?(0,l.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,l.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/5 rounded-full blur-3xl"}),(0,l.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-primary/5 rounded-full blur-3xl"})]}),(0,l.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,l.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(i.default,{href:"/",children:(0,l.jsxs)(c.z,{variant:"ghost",size:"sm",children:[(0,l.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"На главную"]})}),(0,l.jsx)(g,{orientation:"vertical",className:"h-6"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(C.Z,{className:"h-6 w-6 text-primary"}),(0,l.jsx)("span",{className:"font-semibold",children:"Личный кабинет"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(G.T,{}),(0,l.jsxs)(c.z,{variant:"outline",size:"sm",onClick:eS,children:[(0,l.jsx)(z.Z,{className:"h-4 w-4 mr-2"}),"Выйти"]})]})]})}),(0,l.jsx)("main",{className:"container py-8 relative z-10",children:(0,l.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,l.jsx)(o.Zb,{className:"mb-8 border-border/50 shadow-lg",children:(0,l.jsx)(o.aY,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center",children:(0,l.jsx)(E.Z,{className:"h-10 w-10 text-primary"})}),(null==a?void 0:a.role)==="ADMIN"&&(0,l.jsxs)(f.C,{className:"absolute -bottom-1 -right-1 bg-amber-500",children:[(0,l.jsx)(A.Z,{className:"h-3 w-3 mr-1"}),"Admin"]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:null==a?void 0:a.name}),(0,l.jsx)("p",{className:"text-muted-foreground",children:null==a?void 0:a.email}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-4 mt-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsx)(_.Z,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:["Зарегистрирован: ",(null==a?void 0:a.createdAt)?eE(a.createdAt):"—"]})]}),(null==a?void 0:a.lastLoginAt)&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsx)(y.Z,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:["Последний вход: ",eE(a.lastLoginAt)]})]})]})]}),(0,l.jsxs)("div",{className:"bg-primary/10 rounded-xl p-4 text-center min-w-[140px]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-primary mb-1",children:[(0,l.jsx)(F.Z,{className:"h-5 w-5"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"Баланс"})]}),(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[(null==a?void 0:null===(e=a.balance)||void 0===e?void 0:e.toFixed(2))||"0.00"," ₽"]}),(0,l.jsx)(c.z,{size:"sm",className:"mt-2 w-full",children:"Пополнить"})]})]})})}),(0,l.jsxs)(u,{defaultValue:"overview",className:"space-y-6",children:[(0,l.jsxs)(j,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[(0,l.jsxs)(p,{value:"overview",className:"gap-2",children:[(0,l.jsx)(I.Z,{className:"h-4 w-4 hidden sm:block"}),"Обзор"]}),(0,l.jsxs)(p,{value:"servers",className:"gap-2",children:[(0,l.jsx)(D.Z,{className:"h-4 w-4 hidden sm:block"}),"Серверы"]}),(0,l.jsxs)(p,{value:"billing",className:"gap-2",children:[(0,l.jsx)(O.Z,{className:"h-4 w-4 hidden sm:block"}),"Платежи"]}),(0,l.jsxs)(p,{value:"settings",className:"gap-2",children:[(0,l.jsx)(Y.Z,{className:"h-4 w-4 hidden sm:block"}),"Настройки"]})]}),(0,l.jsx)(N,{value:"overview",className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsxs)(o.Zb,{className:"border-border/50",children:[(0,l.jsx)(o.Ol,{className:"pb-2",children:(0,l.jsxs)(o.ll,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(D.Z,{className:"h-5 w-5 text-primary"}),"Мои серверы"]})}),(0,l.jsx)(o.aY,{children:Q?(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)(S.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):X.length>0?(0,l.jsx)("div",{className:"space-y-3",children:X.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:e.plan.name})]}),ez(e.status)]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,l.jsx)(C.Z,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,l.jsx)("p",{children:"У вас пока нет серверов"}),(0,l.jsx)(c.z,{className:"mt-3",size:"sm",children:"Заказать сервер"})]})})]}),(0,l.jsxs)(o.Zb,{className:"border-border/50",children:[(0,l.jsx)(o.Ol,{className:"pb-2",children:(0,l.jsxs)(o.ll,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(O.Z,{className:"h-5 w-5 text-primary"}),"Последние заказы"]})}),(0,l.jsx)(o.aY,{children:Q?(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)(S.Z,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):B.length>0?(0,l.jsx)("div",{className:"space-y-3",children:B.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.plan.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:eE(e.createdAt)})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"font-medium",children:[e.amount," ₽"]}),ez(e.status)]})]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,l.jsx)(O.Z,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,l.jsx)("p",{children:"Нет заказов"})]})})]})]})}),(0,l.jsx)(N,{value:"servers",children:(0,l.jsxs)(o.Zb,{className:"border-border/50",children:[(0,l.jsx)(o.Ol,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(o.ll,{children:"Мои серверы"}),(0,l.jsx)(o.SZ,{children:"Управление вашими серверами"})]}),(0,l.jsxs)(c.z,{children:[(0,l.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Заказать сервер"]})]})}),(0,l.jsx)(o.aY,{children:Q?(0,l.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,l.jsx)(S.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):X.length>0?(0,l.jsx)("div",{className:"space-y-4",children:X.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,l.jsx)(D.Z,{className:"h-6 w-6 text-primary"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.plan.name," • ",e.plan.type]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Истекает"}),(0,l.jsx)("p",{className:"text-sm font-medium",children:eE(e.expiresAt)})]}),ez(e.status),(0,l.jsx)(c.z,{variant:"outline",size:"sm",children:"Управление"})]})]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,l.jsx)(C.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:"У вас пока нет серверов"}),(0,l.jsx)("p",{className:"mb-4",children:"Закажите свой первый сервер прямо сейчас"}),(0,l.jsx)(c.z,{children:"Заказать сервер"})]})})]})}),(0,l.jsx)(N,{value:"billing",children:(0,l.jsxs)(o.Zb,{className:"border-border/50",children:[(0,l.jsxs)(o.Ol,{children:[(0,l.jsx)(o.ll,{children:"История платежей"}),(0,l.jsx)(o.SZ,{children:"Все ваши транзакции"})]}),(0,l.jsx)(o.aY,{children:Q?(0,l.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,l.jsx)(S.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):B.length>0?(0,l.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,l.jsx)(O.Z,{className:"h-6 w-6 text-primary"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:e.plan.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:eE(e.createdAt)})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("p",{className:"font-bold",children:[e.amount," ₽"]}),ez(e.status)]})]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,l.jsx)(O.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,l.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Нет платежей"}),(0,l.jsx)("p",{children:"История ваших транзакций появится здесь"})]})})]})}),(0,l.jsx)(N,{value:"settings",className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsxs)(o.Zb,{className:"border-border/50",children:[(0,l.jsxs)(o.Ol,{children:[(0,l.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(E.Z,{className:"h-5 w-5 text-primary"}),"Личные данные"]}),(0,l.jsx)(o.SZ,{children:"Обновите информацию о себе"})]}),(0,l.jsx)(o.aY,{children:(0,l.jsxs)("form",{onSubmit:ek,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"profile-name",children:"Имя"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(E.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"profile-name",value:$,onChange:e=>ee(e.target.value),className:"pl-10",placeholder:"Ваше имя"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"profile-email",children:"Email"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(T.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"profile-email",value:(null==a?void 0:a.email)||"",className:"pl-10 bg-muted",disabled:!0})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"profile-phone",children:"Телефон"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(P.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"profile-phone",value:es,onChange:e=>ea(e.target.value),className:"pl-10",placeholder:"+7 (999) 999-99-99"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"profile-company",children:"Компания"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(R.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"profile-company",value:el,onChange:e=>et(e.target.value),className:"pl-10",placeholder:"Название компании"})]})]}),en&&(0,l.jsx)(n.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm ".concat(en.includes("Ошибка")?"text-destructive":"text-green-600"),children:en}),(0,l.jsx)(c.z,{type:"submit",className:"w-full",disabled:er,children:er?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Сохранение..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Сохранить изменения"]})})]})})]}),(0,l.jsxs)(o.Zb,{className:"border-border/50",children:[(0,l.jsxs)(o.Ol,{children:[(0,l.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(V.Z,{className:"h-5 w-5 text-primary"}),"Смена пароля"]}),(0,l.jsx)(o.SZ,{children:"Обновите пароль для безопасности"})]}),(0,l.jsx)(o.aY,{children:(0,l.jsxs)("form",{onSubmit:eC,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"current-password",children:"Текущий пароль"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(V.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"current-password",type:ej?"text":"password",value:ed,onChange:e=>em(e.target.value),className:"pl-10 pr-10",placeholder:"••••••••"}),(0,l.jsx)("button",{type:"button",onClick:()=>ep(!ej),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:ej?(0,l.jsx)(H.Z,{className:"h-4 w-4"}):(0,l.jsx)(J.Z,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"new-password",children:"Новый пароль"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(V.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"new-password",type:eN?"text":"password",value:eo,onChange:e=>ex(e.target.value),className:"pl-10 pr-10",placeholder:"Минимум 8 символов"}),(0,l.jsx)("button",{type:"button",onClick:()=>ef(!eN),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:eN?(0,l.jsx)(H.Z,{className:"h-4 w-4"}):(0,l.jsx)(J.Z,{className:"h-4 w-4"})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(m._,{htmlFor:"confirm-new-password",children:"Подтвердите пароль"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(V.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,l.jsx)(d.I,{id:"confirm-new-password",type:"password",value:eh,onChange:e=>eu(e.target.value),className:"pl-10",placeholder:"Повторите пароль"})]})]}),ew&&(0,l.jsx)(n.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-destructive",children:ew}),eb&&(0,l.jsx)(n.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-green-600",children:eb}),(0,l.jsx)(c.z,{type:"submit",variant:"outline",className:"w-full",disabled:ev,children:ev?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Смена пароля..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Сменить пароль"]})})]})})]})]})})]})]})})]}):(0,l.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,l.jsx)(S.Z,{className:"h-8 w-8 animate-spin text-primary"})})}}},function(e){e.O(0,[665,689,597,971,117,744],function(){return e(e.s=7152)}),_N_E=e.O()}]);